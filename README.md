## 《猴子都能懂的GIT入门》笔记

### 基础篇

Git 可以在任何时间点，把文档的状态作为更新记录保存起来。因此可以把编辑过的文档复原到以前的状态，也可以显示编辑前后的内容差异。

#### 1.数据库

Git的数据库分为 **远程数据库** 和 **本地数据库** 两种。

+ 远程数据库： 配有专用的服务器，为了多人共享创建的数据库；
+ 本地数据库：为了方便用户个人使用，在自己的机器上配置的数据库；

创建本地数据库的方法有两种：一种是创建全新的数据库，另一种是复制远程数据库。

#### 2.提交

若要把文件或目录的添加和变更保存到数据库，就需要提交。

提交后，数据库中会生成上次提交的状态与当前状态的差异记录(也被称为revision)。

```
Tips:
不同类型的提交(如：Bug 修复和功能添加)要尽量分开提交，以方便以后从历史记录中查找特定的修改内容。
```

```
Tips：
// 提交信息的输写规范
第1行：提交修改内容的摘要
第2行：空行
第3行以后：修改的理由
```

#### 3.工作树和索引

在 Git 管理下，大家实际操作的目录被称为工作树。

在数据库和工作树之间有索引，索引是为了向数据库提交作准备的区域。

工作树---索引---数据库。

Git 在执行提交的时候，不是直接将工作树的状态保存到数据库中，而是将设置在中间索引区域的状态保存到数据库中。因此，要提交文件，首先要把文件加入到索引区域。

```
$ git add <file1> <file2>

$ git add . // 把所有文件加入索引
```

#### 4.初期设定

可以为 Git 命令设定别名。例如：把```checkout```缩略为```co```，然后就可以使用```co```来执行命令了。

```
$ git config --global alias.co checkout
```

#### 5.新建本地数据库

使用```git init```命令，可以把目录移动到本地 Git 数据库。

```
$ git status // 确认目录状态

$ git log // 查看数据库中的提交记录
```

#### 6.push、clone、pull

#### 7.给远程数据库起别名

可以给远程数据库起个别名。这样，下次推送的时候就不需要输入长串的远程数据库地址了。

使用 ```remote``` 指令添加远程数据库。在 <name> 处输入远程数据库名称，在 <url> 处指定远程数据库的 URL。

```
$ git remote add <name> <url>

// Tips:

// 执行推送或者拉取的时候，如果省略了远程数据库的名称，则默认使用名为”origin“的远程数据库。因此一般都会把远程数据库命名为origin。
```

使用 ```push``` 命令向数据库推送更改内容。 <repository> 处输入目标地址， <refspec> 处输入指定推送的分支。

```
$ git push <repository> <refspec>...
```

如果使用了 ```-u``` 选项，那么下一次推送时，就可以省略分支名称了。但是，首次推送时，必须指定远程数据库名称和分支名称。

```
$ git push -u origin master
```

#### 8.clone、pull

clone 下来的代码，push 的时候不用输入远程仓库名和分支
```
$ git clone <repository> <directory>

$ git push
```

#### 9.合并修改记录

在执行```pull```之后，进行下一次```push```之前，如果其他人进行了推送内容到远程数据库的话，那么你的 push 将会被拒绝。

这是因为，如果不进行合并就试图覆盖已有的变更记录的话，其他人的 push 的变更就会消失。

**添加一行 ， 尝试冲突**